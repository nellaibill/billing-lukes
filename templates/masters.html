<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Manage Masters</title>
    <style>
        .container {
            max-width: 900px;
            margin-left: 220px;
            background: #fff;
            padding: 2em 2.5em;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }
        .card-form {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5em;
            align-items: center;
            margin-bottom: 2em;
            background: #fff;
            padding: 1.5em 2em;
            border-radius: 18px;
            box-shadow: 0 4px 24px rgba(25, 118, 210, 0.10);
        }
        .card-label {
            display: flex;
            flex-direction: column;
            gap: 0.3em;
            margin-right: 1.5em;
        }
        .card-label-text {
            font-size: 1.05em;
            color: #1976d2;
            font-weight: 600;
            margin-bottom: 2px;
        }
        .card-input {
            padding: 10px 16px;
            border: 1px solid #e3eafc;
            border-radius: 10px;
            font-size: 1.05em;
            background: #f7faff;
            transition: border-color 0.2s;
        }
        .card-input:focus {
            border-color: #1976d2;
            outline: none;
            box-shadow: 0 0 0 2px rgba(25, 118, 210, 0.12);
        }
        .card-btn {
            background: linear-gradient(90deg, #42a5f5 0%, #1976d2 100%);
            color: #fff;
            border: none;
            padding: 10px 28px;
            border-radius: 30px;
            font-size: 1.05em;
            font-weight: 600;
            box-shadow: 0 2px 12px rgba(25, 118, 210, 0.12);
            margin-right: 1em;
            cursor: pointer;
            transition: background 0.2s, box-shadow 0.2s;
        }
        .card-btn:hover {
            background: linear-gradient(90deg, #1976d2 0%, #42a5f5 100%);
            box-shadow: 0 6px 24px rgba(25, 118, 210, 0.18);
        }
        table {
            border-collapse: collapse;
            width: 100%;
            margin-bottom: 2em;
            background: #fff;
            box-shadow: 0 2px 8px rgba(25, 118, 210, 0.05);
            border-radius: 10px;
            overflow: hidden;
        }
        th, td {
            border: 1px solid #e3eafc;
            padding: 12px;
            text-align: left;
        }
        th {
            background: #f4f4f4;
            color: #1976d2;
            font-weight: 600;
        }
        @media (max-width: 700px) {
            .container { padding: 1em; margin-left: 0; }
            .card-form { flex-direction: column; gap: 0.5em; }
            table, th, td { font-size: 0.95em; }
        }
    </style>
</head>
<body>
            {% from '_flash_messages.html' import flash_messages %}
            {{ flash_messages() }}
        <div class="container" style="max-width:100vw; padding:32px 40px 32px 100px;">
            {% include '_navbar.html' %}
        <h1>Manage Masters</h1>
        <h2>Category</h2>
        <form method="post" class="card-form">
            <label class="card-label">
                <span class="card-label-text">New Category</span>
                <input type="text" name="category" placeholder="Enter category name" required class="card-input">
            </label>
            <button type="submit" class="card-btn">Add</button>
        </form>
        <table>
            <tr><th>ID</th><th>Name</th><th>Action</th></tr>
            {% for cat in categories %}
            <tr>
                <td>{{ cat.id }}</td>
                <td>
                    {% if edit_category and edit_category.id == cat.id %}
                        <form method="post" class="card-form" style="background:none; box-shadow:none; padding:0; margin:0; gap:0.5em;">
                            <input type="hidden" name="edit_category_id" value="{{ cat.id }}">
                            <input type="text" name="edit_category_name" value="{{ cat.name }}" required class="card-input" style="min-width:120px;">
                            <button type="submit" class="card-btn" style="padding:6px 18px;">Save</button>
                            <a href="{{ url_for('masters') }}" class="card-btn" style="background:#e0e0e0; color:#333; padding:6px 18px; text-decoration:none;">Cancel</a>
                        </form>
                    {% else %}
                        {{ cat.name }}
                    {% endif %}
                </td>
                <td>
                    {% if not (edit_category and edit_category.id == cat.id) %}
                        <a href="{{ url_for('masters', edit_category=cat.id) }}" class="card-btn" style="padding:6px 18px; background:#ffc107; color:#333;">Edit</a>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </table>
        <h2>Payment Type</h2>
        <form method="post" class="card-form">
            <label class="card-label">
                <span class="card-label-text">New Payment Type</span>
                <input type="text" name="payment_type" placeholder="Enter payment type" required class="card-input">
            </label>
            <button type="submit" class="card-btn">Add</button>
        </form>
        <table>
            <tr><th>ID</th><th>Name</th></tr>
            {% for pt in payment_types %}
            <tr><td>{{ pt.id }}</td><td>{{ pt.name }}</td></tr>
            {% endfor %}
        </table>
    </div>
</body>
</html>
